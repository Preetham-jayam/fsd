<%-include("../partials/adminheader.ejs");%>

<div class="container">
  <% if (messages.success) { %>
    <div class="alert alert-success"><%= messages.success %></div>
  <% } %>
  
  <% if (messages.error) { %>
    <div class="alert alert-danger"><%= messages.error %></div>
  <% } %>
    <div class="row justify-content-center">
      <div class="col-md-6">
        <h2 class="text-center">Email Sending Form</h2>
        <form method="POST" action="/admin/mail" id="mailform">
          <div class="form-group">
            <label for="subject">Subject:</label>
            <input type="text" class="form-control" id="subject" name="subject" placeholder="Enter email subject" >
          </div>
          <div class="form-group">
            <label for="message">Message:</label>
            <textarea class="form-control" id="message" name="message" placeholder="Enter email message" rows="5"></textarea>
          </div>
          <button type="submit" class="btn btn-success">Send Email</button>
        </form>
      </div>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const mailform = document.getElementById('mailform');
      const subject = document.getElementById('subject');
      const message = document.getElementById('message');
  
      mailform.addEventListener('submit', function(e) {
        e.preventDefault();
  
        const subjectValue = subject.value;
        const messageValue = message.value;
  
        if (subjectValue.length === 0 || messageValue.length === 0) {
          Swal.fire({
            icon: 'error',
            text: 'Empty data.',
          });
          return;
        }
  
        mailform.submit();
      });
    });
  </script>
  



<%-include('../partials/adminfooter.ejs');%>
